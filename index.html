<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Camisflow - Period & Ovulation Tracker</title>
    <link rel="preconnect" href="https://fonts.googleapis.com">
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
    <link href="https://fonts.googleapis.com/css2?family=Dancing+Script:wght@400;500;600;700&family=Montserrat:wght@300;400;500;600;700&display=swap" rel="stylesheet">
    <link rel="stylesheet" href="styles.css">
    <!-- Convex -->
    <script src="https://unpkg.com/convex@1.24.8/dist/umd/index.js"></script>
</head>
<body class="bright-mode">
    <!-- Navigation Bar -->
    <nav class="navbar">
        <div class="nav-container">
            <h1 class="logo">Camisflow</h1>
            <div class="nav-actions">
                <button class="theme-toggle" id="themeToggle" title="Toggle Theme">🌙</button>
                <button class="auth-btn" id="authBtn">Login</button>
            </div>
        </div>
    </nav>

    <!-- Login Modal -->
    <div id="loginModal" class="modal active">
        <div class="modal-content login-content">
            <div class="modal-header">
                <h3>Welcome to Camisflow</h3>
            </div>
            <div class="modal-body">
                <p>Enter your access code:</p>
                <input type="password" id="loginCode" placeholder="Enter your access code" class="login-input">
                <button class="btn-primary" id="loginBtn">Login</button>
            </div>
        </div>
    </div>

    <!-- Main Content Container -->
    <main class="main-content" id="mainContent" style="display: none;">
        <!-- User Info Bar -->
        <div class="user-info-bar">
            <span id="userRole">Logged in as: Cami</span>
            <span id="viewerNotice" style="display: none;">👁️ Viewing Cami's data (Read Only)</span>
        </div>

        <!-- Dashboard Page -->
        <div id="dashboard" class="page active">
            <div class="cycle-indicator-container">
                <div class="cycle-indicator" id="cycleIndicator">
                    <div class="cycle-center">
                        <div class="cycle-text" id="cycleText">Period starts in 7 days</div>
                        <div class="cycle-subtext" id="cycleSubtext">Day 21 of 28</div>
                    </div>
                </div>
            </div>

            <!-- Period Start Button -->
            <div class="period-start-section" id="periodStartSection">
                <button class="period-start-btn" id="periodStartBtn">
                    🩸 My Period Started Today
                </button>
                <p class="period-help-text">Tap when your period actually begins for accurate tracking</p>
            </div>

            <div class="mood-section">
                <h3>How are you feeling today?</h3>
                <div class="mood-emojis">
                    <button class="mood-btn" data-mood="5">😍</button>
                    <button class="mood-btn" data-mood="4">😊</button>
                    <button class="mood-btn" data-mood="3">😐</button>
                    <button class="mood-btn" data-mood="2">😢</button>
                    <button class="mood-btn" data-mood="1">😡</button>
                </div>
                <div id="moodDisabled" class="disabled-overlay" style="display: none;">
                    <span>👁️ Read-only mode</span>
                </div>
            </div>

            <div class="mini-calendar" id="miniCalendar">
                <!-- Mini calendar will be generated by JavaScript -->
            </div>

            <button class="floating-btn" id="addNoteBtn">+</button>
        </div>

        <!-- Calendar Page -->
        <div id="calendar" class="page">
            <div class="calendar-header">
                <button class="nav-arrow" id="prevMonth">‹</button>
                <h2 id="currentMonth">December 2024</h2>
                <button class="nav-arrow" id="nextMonth">›</button>
            </div>
            <div class="calendar-grid" id="calendarGrid">
                <div class="weekday">Sun</div>
                <div class="weekday">Mon</div>
                <div class="weekday">Tue</div>
                <div class="weekday">Wed</div>
                <div class="weekday">Thu</div>
                <div class="weekday">Fri</div>
                <div class="weekday">Sat</div>
                <!-- Calendar days will be generated by JavaScript -->
            </div>
        </div>

        <!-- Insights Page -->
        <div id="insights" class="page">
            <div class="insights-card">
                <h3>Cycle Overview</h3>
                <div class="stat-row">
                    <span>Average Cycle:</span>
                    <span id="averageCycle">28 days</span>
                </div>
                <div class="stat-row">
                    <span>Last Cycle:</span>
                    <span id="lastCycle">30 days</span>
                </div>
            </div>

            <div class="insights-card">
                <h3>Mood Trends (Past 30 Days)</h3>
                <div class="mood-chart" id="moodChart">
                    <!-- Chart will be generated by JavaScript -->
                </div>
                <div class="mood-legend">
                    <span>😡 1</span>
                    <span>😢 2</span>
                    <span>😐 3</span>
                    <span>😊 4</span>
                    <span>😍 5</span>
                </div>
            </div>

            <div class="insights-card">
                <h3>Predictions</h3>
                <div class="prediction-row">
                    <span>Next Period:</span>
                    <span id="nextPeriod">Dec 18 – Dec 23</span>
                </div>
                <div class="prediction-row">
                    <span>Fertile Window:</span>
                    <span id="fertileWindow">Dec 4 – Dec 9</span>
                </div>
            </div>
        </div>

        <!-- Settings Page -->
        <div id="settings" class="page">
            <div class="settings-card">
                <h3>Theme</h3>
                <div class="setting-row">
                    <span>Dark Mode</span>
                    <label class="toggle">
                        <input type="checkbox" id="darkModeToggle">
                        <span class="slider"></span>
                    </label>
                </div>
            </div>

            <div class="settings-card">
                <h3>Account</h3>
                <div class="setting-row">
                    <span id="currentUser">Cami (Editor)</span>
                    <button class="btn-secondary" id="logoutBtn">Logout</button>
                </div>
            </div>

            <div class="settings-card" id="adminSection">
                <h3>Data Management</h3>
                <button class="danger-btn" id="clearAllData">Clear All Data</button>
                <small class="warning-text">⚠️ This will delete all cycle data, moods, and notes permanently</small>
            </div>
        </div>
    </main>

    <!-- Bottom Navigation -->
    <nav class="bottom-nav" id="bottomNav" style="display: none;">
        <button class="nav-btn active" data-page="dashboard">
            <span class="nav-icon">🏠</span>
            <span class="nav-label">Home</span>
        </button>
        <button class="nav-btn" data-page="calendar">
            <span class="nav-icon">📅</span>
            <span class="nav-label">Calendar</span>
        </button>
        <button class="nav-btn" data-page="insights">
            <span class="nav-icon">📊</span>
            <span class="nav-label">Insights</span>
        </button>
        <button class="nav-btn" data-page="settings">
            <span class="nav-icon">⚙️</span>
            <span class="nav-label">Settings</span>
        </button>
    </nav>

    <!-- Modals -->
    <div id="noteModal" class="modal">
        <div class="modal-content">
            <div class="modal-header">
                <h3>Add Note</h3>
                <span class="close" id="closeNoteModal">&times;</span>
            </div>
            <div class="modal-body">
                <textarea id="noteInput" placeholder="How are you feeling? Any symptoms?"></textarea>
                <button class="btn-primary" id="saveNote">Save Note</button>
            </div>
        </div>
    </div>

    <div id="dayModal" class="modal">
        <div class="modal-content">
            <div class="modal-header">
                <h3 id="dayModalTitle">December 15</h3>
                <span class="close" id="closeDayModal">&times;</span>
            </div>
            <div class="modal-body">
                <div class="day-info">
                    <div class="phase-indicator" id="dayPhase">Fertile Window</div>
                    
                    <div class="mood-section">
                        <p>Mood:</p>
                        <div class="mood-emojis">
                            <button class="mood-btn small" data-mood="5">😍</button>
                            <button class="mood-btn small" data-mood="4">😊</button>
                            <button class="mood-btn small" data-mood="3">😐</button>
                            <button class="mood-btn small" data-mood="2">😢</button>
                            <button class="mood-btn small" data-mood="1">😡</button>
                        </div>
                    </div>
                    
                    <div class="note-section">
                        <p>Notes:</p>
                        <textarea id="dayNoteInput" placeholder="Add a note for this day..."></textarea>
                    </div>
                    
                    <div class="phase-section" id="phaseSection">
                        <p>Cycle Phase:</p>
                        <select id="phaseSelect" class="phase-select">
                            <option value="normal">Normal</option>
                            <option value="period">Period</option>
                            <option value="fertile">Fertile</option>
                            <option value="ovulation">Ovulation</option>
                            <option value="pms">PMS</option>
                        </select>
                    </div>
                    
                    <button class="btn-primary" id="saveDayData">Save</button>
                    
                    <div id="readOnlyNotice" class="read-only-notice" style="display: none;">
                        👁️ You're in read-only mode. Only Cami can make changes.
                    </div>
                </div>
            </div>
        </div>
    </div>

    <script src="convex-app.js"></script>
</body>
</html> 